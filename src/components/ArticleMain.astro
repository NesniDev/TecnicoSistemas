---
import Button from '@components/Button.astro'
import ArrowNews from '@assets/icons/ArrowNews.astro'
import { Image } from 'astro:assets'

const { url, image_url, title, description, published_at, snippet } =
  Astro.props
---

<article>
  <a href={url} target="_blank" class="flex flex-col justify-between">
    <!-- <img
      src={image_url}
      alt={`Imagen sobre: ${title}`}
      class="rounded-lg object-cover h-full"
    /> -->
    <Image
      src={image_url}
      alt={`Imagen sobre: ${title}`}
      inferSize
      class="rounded-lg object-cover h-full"
    />
  </a>
  <div class="flex flex-col max-h-full">
    <h4 class="text-white text-base font-bold">{title}</h4>
    <div class="flex flex-1">
      <p class="mt-2">{description === '' ? snippet : description}</p>
    </div>
    <p class="flex justify-between items-center my-2">
      <span class="button text-[8px]">
        {published_at.slice(0, 10)}
      </span>
      <Button href={url} openBlank className="button px-2 py-1 text-[10px]">
        <ArrowNews />
      </Button>
    </p>
  </div>
</article>

<style>
  article {
    display: flex;
    flex-direction: column;
  }

  article img {
    max-width: 100%;
    height: 150px;
    object-fit: cover;
  }

  article div {
    padding: 10px 0;
    display: flex;
    flex-direction: column;
    padding: 10px 0;
    flex: 1;
  }

  article div p {
    color: var(--letter);
    font-weight: 400;
    font-size: 13px;
  }
</style>
