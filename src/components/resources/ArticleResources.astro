---
import ArrowNews from '@assets/icons/ArrowNews.astro'
import { block } from 'sharp'

const { type, title, description, url, view, mode } = Astro.props
---

<article
  class:list={{
    'flex flex-col gap-2 bg-[#040d1c] text-white rounded-xl px-6 py-4 overflow-hidden hover:scale-105 transition duration-300 select-none': true,
    'pointer-events-none opacity-60': !view,
    'flex flex-col gap-2 bg-red-800/10 text-white rounded-xl px-6 py-4':
      type === 'pdf',
    'flex flex-col gap-2 bg-blue-800/10 text-white rounded-xl px-6 py-4':
      type === 'word',
    'flex flex-col gap-2 bg-green-800/10 text-white rounded-xl px-6 py-4':
      type === 'excel',
    'flex flex-col gap-2 bg-yellow-800/10 text-white rounded-xl px-6 py-4':
      type === 'web',
    'flex flex-col gap-2 bg-purple-800/10 text-white rounded-xl px-6 py-4':
      type === 'libro',
    'flex flex-col gap-2 bg-pink-800/10 text-white rounded-xl px-6 py-4':
      type === 'access'
  }}
>
  <div class="flex justify-start items-center gap-2 relative">
    <span
      class:list={{
        'bg-red-100 text-red-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-red-900 dark:text-red-300 ':
          type === 'pdf',
        'bg-blue-100 text-blue-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-blue-900 dark:text-blue-300':
          type === 'word',
        'bg-green-100 text-green-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-green-900 dark:text-green-300':
          type === 'excel',
        'bg-yellow-100 text-yellow-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-yellow-900 dark:text-yellow-300':
          type === 'web',
        'bg-purple-100 text-purple-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-purple-900 dark:text-purple-300':
          type === 'libro',
        'bg-pink-100 text-pink-800 text-sm font-medium me-2 px-2.5 py-0.5 rounded-sm dark:bg-pink-900 dark:text-pink-300':
          type === 'access'
      }}
      >{type}
    </span>
    <span
      id="type-span"
      class={`text-xs ${view ? 'before:content-[""] before:absolute before:top-[-3px] before:left-[-3px] before:w-[10px] before:h-[10px] before:rounded-full before:bg-green-600' : 'before:content-[""] before:absolute before:top-[-3px] before:left-[-3px] before:w-[10px] before:h-[10px] before:rounded-full before:bg-red-600'}`}
    ></span>
  </div>
  <h2 class="text-xl font-bold capitalize">{title}</h2>
  <span class="text-xs text-gray-600 capitalize font-medium">{mode}</span>
  <p class="text-sm flex-1 text-gray-400">{description}</p>
  <a
    href={url}
    class:list={{
      'flex items-center gap-2 text-xs': true,
      'text-red-800': type === 'pdf',
      'text-blue-800': type === 'word',
      'text-green-800': type === 'excel',
      'text-yellow-800': type === 'web',
      'text-purple-800': type === 'libro',
      'text-pink-800': type === 'access'
    }}
    download>Descargar <span><ArrowNews class="size-5" /></span></a
  >
</article>

<style>
  a span {
    transition: all 0.3s ease-in-out;
  }
  a:hover span {
    transform: rotate(90deg);
  }
</style>
